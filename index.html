<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‚˜ë§Œì˜ ì—¬í–‰ ê³„íš ì¶”ì²œ</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    /* CSS ì½”ë“œ ì‹œì‘ */
    :root {
      --primary-blue: #3498db;
      --light-blue: #87ceeb;
      --dark-blue: #2c3e50;
      --accent-color: #f1c40f;
      --background-light: #ecf0f1;
      --text-dark: #333;
      --text-light: #fff;
      --card-background: #ffffff;
      --border-radius: 10px;
      --box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      --transition-speed: 0.3s;
    }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      background: linear-gradient(to right, var(--light-blue), var(--primary-blue));
      color: var(--text-dark);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      box-sizing: border-box;
    }

    .container {
      background-color: var(--card-background);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 30px;
      max-width: 800px;
      width: 100%;
      box-sizing: border-box;
      margin-top: 20px;
      margin-bottom: 20px;
    }

    h1 {
      text-align: center;
      color: var(--primary-blue);
      margin-bottom: 30px;
      font-weight: 700;
      font-size: 2em;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--dark-blue);
    }

    input[type="text"],
    input[type="number"],
    select {
      width: calc(100% - 20px);
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      font-size: 1em;
      box-sizing: border-box;
      transition: border-color var(--transition-speed);
    }

    input[type="text"]:focus,
    input[type="number"]:focus,
    select:focus {
      border-color: var(--primary-blue);
      outline: none;
    }

    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }

    .radio-group label {
      display: flex;
      align-items: center;
      cursor: pointer;
      padding: 10px 15px;
      background-color: var(--background-light);
      border-radius: var(--border-radius);
      transition: background-color var(--transition-speed), transform var(--transition-speed);
    }

    .radio-group label:hover {
      background-color: #e0e6e9;
      transform: translateY(-2px);
    }

    .radio-group input[type="radio"] {
      margin-right: 8px;
      accent-color: var(--primary-blue);
    }

    .budget-input-wrapper {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    button {
      background-color: var(--primary-blue);
      color: var(--text-light);
      padding: 15px 25px;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1.1em;
      cursor: pointer;
      width: 100%;
      box-sizing: border-box;
      transition: background-color var(--transition-speed), transform var(--transition-speed);
      margin-top: 20px;
      font-weight: 600;
    }

    button:hover {
      background-color: var(--dark-blue);
      transform: translateY(-2px);
    }

    button:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }

    #loadingIndicator {
      text-align: center;
      margin-top: 20px;
      color: var(--dark-blue);
      font-size: 1.1em;
      font-weight: 600;
      display: none;
    }

    .spinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-left-color: var(--primary-blue);
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
      display: inline-block;
      vertical-align: middle;
      margin-right: 10px;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    #travelPlanOutput {
      margin-top: 30px;
      padding: 20px;
      background-color: var(--background-light);
      border-radius: var(--border-radius);
      border: 1px dashed #ccc;
      white-space: pre-wrap;
      word-break: break-word;
      min-height: 150px;
      max-height: 600px;
      overflow-y: auto;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);
      font-size: 0.95em;
      line-height: 1.8;
      color: var(--dark-blue);
    }

    /* Markdown Basic Styling for Output */
    #travelPlanOutput h2,
    #travelPlanOutput h3,
    #travelPlanOutput h4 {
      color: var(--primary-blue);
      margin-top: 20px;
      margin-bottom: 10px;
      border-bottom: 1px solid var(--light-blue);
      padding-bottom: 5px;
    }

    #travelPlanOutput strong {
      color: var(--dark-blue);
    }

    #travelPlanOutput ul {
      list-style-type: disc;
      padding-left: 20px;
    }

    #travelPlanOutput ol {
      list-style-type: decimal;
      padding-left: 20px;
    }

    #travelPlanOutput li {
      margin-bottom: 5px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }

      .container {
        padding: 20px;
      }

      h1 {
        font-size: 1.8em;
      }

      .radio-group {
        flex-direction: column;
        gap: 10px;
      }

      .radio-group label {
        width: 100%;
        box-sizing: border-box;
      }

      button {
        padding: 12px 20px;
        font-size: 1em;
      }
    }
    /* CSS ì½”ë“œ ë */
  </style>
</head>

<body>
  <div class="container">
    <h1>ë‚˜ë§Œì˜ ì—¬í–‰ ê³„íš ì¶”ì²œê¸° ğŸŒ</h1>

    <div class="form-group">
      <label for="destination">ì—¬í–‰í•  ë‚˜ë¼/ì§€ì—­/ë„ì‹œë¥¼ ì…ë ¥í•˜ì„¸ìš”.</label>
      <input type="text" id="destination" placeholder="ì˜ˆ: í”„ë‘ìŠ¤ íŒŒë¦¬" required>
    </div>

    <div class="form-group">
      <label>ì„±ì¸ ì¸ì›ìˆ˜:</label>
      <input type="number" id="adults" min="1" value="1" required>
    </div>

    <div class="form-group">
      <label>ì•„ì´ ì¸ì›ìˆ˜:</label>
      <input type="number" id="children" min="0" value="0" required>
    </div>

    <div class="form-group">
      <label for="duration">ì—¬í–‰í•  ê¸°ê°„ì„ ì…ë ¥í•˜ì„¸ìš” (ë‹¨ìœ„: ì¼)</label>
      <input type="number" id="duration" min="1" value="3" required>
    </div>

    <div class="form-group">
      <label>ì—¬í–‰ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•˜ì„¸ìš”.</label>
      <div class="radio-group">
        <label><input type="radio" name="travelStyle" value="ê´€ê´‘" checked> ê´€ê´‘</label>
        <label><input type="radio" name="travelStyle" value="íœ´ì–‘"> íœ´ì–‘</label>
        <label><input type="radio" name="travelStyle" value="ì»¤í”Œì—¬í–‰"> ì»¤í”Œì—¬í–‰</label>
        <label><input type="radio" name="travelStyle" value="ê°€ì¡±ì—¬í–‰"> ê°€ì¡±ì—¬í–‰</label>
        <label><input type="radio" name="travelStyle" value="ë‚˜í™€ë¡œì—¬í–‰"> ë‚˜í™€ë¡œì—¬í–‰</label>
        <label><input type="radio" name="travelStyle" value="ì¹œêµ¬ì™€ì—¬í–‰"> ì¹œêµ¬ì™€ì—¬í–‰</label>
        <label><input type="radio" name="travelStyle" value="ê¸°íƒ€"> ê¸°íƒ€</label>
      </div>
    </div>

    <div class="form-group">
      <label>ì˜ˆì‚°ì„ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”.</label>
      <div class="radio-group">
        <label><input type="radio" name="budgetOption" value="100ë§Œì›" checked> 100ë§Œì›</label>
        <label><input type="radio" name="budgetOption" value="200ë§Œì›"> 200ë§Œì›</label>
        <label><input type="radio" name="budgetOption" value="300ë§Œì›"> 300ë§Œì›</label>
        <label><input type="radio" name="budgetOption" value="ì§ì ‘ ì…ë ¥" id="directBudgetRadio"> ì§ì ‘ ì…ë ¥</label>
      </div>
      <div id="directBudgetInputWrapper" class="budget-input-wrapper" style="display: none;">
        <input type="text" id="directBudget" placeholder="êµ¬ì²´ì ì¸ ì˜ˆì‚° ì…ë ¥ (ì˜ˆ: 500ë§Œì›)">
      </div>
    </div>

    <button id="recommendButton">ì—¬í–‰ ê³„íš ì¶”ì²œ</button>

    <div id="loadingIndicator">
      <span class="spinner"></span> ì—¬í–‰ ê³„íšì„ ìƒì„± ì¤‘ì…ë‹ˆë‹¤... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”!
    </div>

    <div id="travelPlanOutput">
      ì—¬ê¸°ì— ì¶”ì²œëœ ì—¬í–‰ ê³„íšì´ í‘œì‹œë©ë‹ˆë‹¤.
    </div>
  </div>

  <script>
    /* JavaScript ì½”ë“œ ì‹œì‘ */
    const directBudgetRadio = document.getElementById('directBudgetRadio');
    const directBudgetInputWrapper = document.getElementById('directBudgetInputWrapper');
    const recommendButton = document.getElementById('recommendButton');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const travelPlanOutput = document.getElementById('travelPlanOutput');

    // 'ì§ì ‘ ì…ë ¥' ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ ì‹œ í…ìŠ¤íŠ¸ ì…ë ¥ ìƒì í† ê¸€
    document.querySelectorAll('input[name="budgetOption"]').forEach(radio => {
      radio.addEventListener('change', function() {
        if (this.value === 'ì§ì ‘ ì…ë ¥') {
          directBudgetInputWrapper.style.display = 'flex';
        } else {
          directBudgetInputWrapper.style.display = 'none';
        }
      });
    });

    // 'ì—¬í–‰ ê³„íš ì¶”ì²œ' ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    recommendButton.addEventListener('click', async function() {
      // ì…ë ¥ ê°’ ìˆ˜ì§‘
      const destination = document.getElementById('destination').value;
      const adults = parseInt(document.getElementById('adults').value);
      const children = parseInt(document.getElementById('children').value);
      const duration = parseInt(document.getElementById('duration').value);
      const travelStyle = document.querySelector('input[name="travelStyle"]:checked').value;

      let budget = document.querySelector('input[name="budgetOption"]:checked').value;
      if (budget === 'ì§ì ‘ ì…ë ¥') {
        budget = document.getElementById('directBudget').value;
      }

      // í•„ìˆ˜ ì…ë ¥ ê°’ ìœ íš¨ì„± ê²€ì‚¬
      if (!destination || !adults || !duration || !budget) {
        alert('ëª¨ë“  í•„ìˆ˜ ì…ë ¥ í•„ë“œë¥¼ ì±„ì›Œì£¼ì„¸ìš”.');
        return;
      }
      if (adults < 1) {
        alert('ì„±ì¸ ì¸ì›ìˆ˜ëŠ” ìµœì†Œ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
        return;
      }
      if (children < 0) {
        alert('ì•„ì´ ì¸ì›ìˆ˜ëŠ” 0ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
        return;
      }
      if (duration < 1) {
        alert('ì—¬í–‰ ê¸°ê°„ì€ ìµœì†Œ 1ì¼ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
        return;
      }
      if (budget === 'ì§ì ‘ ì…ë ¥' && !document.getElementById('directBudget').value) {
        alert('ì§ì ‘ ì…ë ¥ ì˜ˆì‚°ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      // ë¡œë”© ì¸ë””ì¼€ì´í„° í‘œì‹œ ë° ë²„íŠ¼ ë¹„í™œì„±í™”
      loadingIndicator.style.display = 'block';
      recommendButton.disabled = true;
      travelPlanOutput.textContent = ''; // ì´ì „ ê²°ê³¼ ì´ˆê¸°í™”

      const formData = {
        destination,
        adults,
        children,
        duration,
        travelStyle,
        budget
      };

      // --- ë°±ì—”ë“œ (Gemini API í˜¸ì¶œ ë° Google Sheet ì €ì¥) ë¡œì§ì€ ì—¬ê¸°ì„œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤ ---
      // ì¼ë°˜ ì›¹ í™˜ê²½ì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì§ì ‘ Gemini API í‚¤ë¥¼ ë…¸ì¶œí•˜ê±°ë‚˜
      // Google Sheetì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ê²ƒì€ ë³´ì•ˆìƒ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
      // ë”°ë¼ì„œ, ì´ ë¶€ë¶„ì€ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜(ì˜ˆ: Google Cloud Functions, AWS Lambda)ë¥¼
      // ì‚¬ìš©í•˜ì—¬ ë°±ì—”ë“œ APIë¥¼ êµ¬ì¶•í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ ë°±ì—”ë“œ APIë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.
      // ì•„ë˜ ì½”ë“œëŠ” ì˜ˆì‹œ ë”ë¯¸ ë°ì´í„° ë˜ëŠ” ì‹¤ì œ API í˜¸ì¶œì„ ìœ„í•œ í”Œë ˆì´ìŠ¤í™€ë”ì…ë‹ˆë‹¤.

      try {
        // ì‹¤ì œ Gemini API í˜¸ì¶œ ì˜ˆì‹œ (ë³´ì•ˆìƒ ì§ì ‘ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í˜¸ì¶œ ë¹„ê¶Œì¥)
        // const GEMINI_API_KEY = "YOUR_GEMINI_API_KEY"; // ì—¬ê¸°ì— ì‹¤ì œ Gemini API í‚¤ë¥¼ ë„£ìœ¼ì„¸ìš”!
        // const geminiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`;
        //
        // const response = await fetch(geminiUrl, {
        //   method: 'POST',
        //   headers: {
        //     'Content-Type': 'application/json'
        //   },
        //   body: JSON.stringify({
        //     contents: [{
        //       parts: [{
        //         text: `"${destination}"(ìœ¼)ë¡œ ${adults}ëª… ì„±ì¸, ${children}ëª… ì•„ì´ê°€ ${duration}ì¼ ë™ì•ˆ ${travelStyle} ì»¨ì…‰ìœ¼ë¡œ ì—¬í–‰ì„ ê°€ë ¤ê³  í•©ë‹ˆë‹¤. ì˜ˆì‚°ì€ ${budget}ì…ë‹ˆë‹¤. ì´ ì¡°ê±´ì— ë§ì¶° ìƒì„¸í•œ ì—¬í–‰ ê³„íšì„ ì¶”ì²œí•´ ì£¼ì„¸ìš”. ë‹µë³€ì€ ê°€ë…ì„±ì´ ì¢‹ê²Œ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”.`
        //       }]
        //     }]
        //   })
        // });
        // const data = await response.json();
        //
        // let generatedPlan = "ì—¬í–‰ ê³„íšì„ ìƒì„±í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
        // if (data && data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts[0]) {
        //   generatedPlan = data.candidates[0].content.parts[0].text;
        // } else {
        //   console.error("Gemini API ì‘ë‹µ í˜•ì‹ ì˜¤ë¥˜:", data);
        //   generatedPlan = "Gemini API ì‘ë‹µì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        // }

        // --- ë”ë¯¸ ë°ì´í„°ë¡œ ëŒ€ì²´ ---
        await new Promise(resolve => setTimeout(resolve, 2000)); // 2ì´ˆ ëŒ€ê¸° ì‹œë®¬ë ˆì´ì…˜
        const generatedPlan = `
          ## ğŸŒŸ ${formData.destination} ${formData.travelStyle} ${formData.duration}ì¼ ì—¬í–‰ ê³„íš ğŸŒŸ

          **ê°œìš”:** ${formData.destination}ìœ¼ë¡œ ë– ë‚˜ëŠ” ${formData.travelStyle} í…Œë§ˆì˜ ${formData.duration}ì¼ ì—¬í–‰ì…ë‹ˆë‹¤. ${formData.adults}ëª…ì˜ ì„±ì¸ê³¼ ${formData.children}ëª…ì˜ ì•„ì´ë¥¼ ìœ„í•œ ë§ì¶¤í˜• ì¼ì •ìœ¼ë¡œ, ì˜ˆì‚°ì€ ${formData.budget}ì— ë§ì¶° ìµœëŒ€í•œ ì¦ê²ê³  íš¨ìœ¨ì ì¸ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

          ---

          ### ğŸ—“ï¸ 1ì¼ì°¨: ${formData.destination} ë„ì°© ë° ì£¼ìš” ëª…ì†Œ íƒë°©
          * **ì˜¤ì „:** ${formData.destination} ê³µí•­ ë„ì°© í›„ ì‹œë‚´ë¡œ ì´ë™ ë° í˜¸í…” ì²´í¬ì¸. (ì¶”ì²œ í˜¸í…”: [ë„ì‹œ ì¤‘ì‹¬ê°€ì— ìœ„ì¹˜í•œ ê°€ì¡±/ì»¤í”Œ ì¹œí™”ì  í˜¸í…”])
          * **ì ì‹¬:** í˜„ì§€ ë§›ì§‘ì—ì„œ ${formData.destination} ì „í†µ ìš”ë¦¬ ì¦ê¸°ê¸°. (ì˜ˆ: [ì¶”ì²œ ë ˆìŠ¤í† ë‘ ì´ë¦„])
          * **ì˜¤í›„:** ëœë“œë§ˆí¬ ë°©ë¬¸. (ì˜ˆ: ì—í íƒ‘, ì½œë¡œì„¸ì›€, ë§Œë¦¬ì¥ì„± ë“±) ì•„ì´ë“¤ì„ ìœ„í•œ í¬í†  ìŠ¤íŒŸ ë° ê°„ë‹¨í•œ ì•¡í‹°ë¹„í‹° ê³ ë ¤.
          * **ì €ë…:** ${formData.destination} ì•¼ê²½ì´ ë³´ì´ëŠ” ë ˆìŠ¤í† ë‘ì—ì„œ ê·¼ì‚¬í•œ ì €ë… ì‹ì‚¬.
          * **ìˆ™ì†Œ:** [ì„ íƒí•œ í˜¸í…”]

          ### ğŸ—“ï¸ 2ì¼ì°¨: ë¬¸í™”/ì²´í—˜ ë° íœ´ì‹
          * **ì˜¤ì „:** ë°•ë¬¼ê´€ ë˜ëŠ” ë¯¸ìˆ ê´€ ë°©ë¬¸ (ì˜ˆ: ë£¨ë¸Œë¥´ ë°•ë¬¼ê´€, ëŒ€ì˜ ë°•ë¬¼ê´€). ì•„ì´ë“¤ì„ ìœ„í•œ ì˜¤ë””ì˜¤ ê°€ì´ë“œë‚˜ ì²´í—˜ í”„ë¡œê·¸ë¨ í™œìš©.
          * **ì ì‹¬:** ìºì£¼ì–¼í•œ í˜„ì§€ ì¹´í˜ì—ì„œ ê°€ë³ê²Œ ì‹ì‚¬.
          * **ì˜¤í›„:** ê³µì› ë˜ëŠ” ìœ ì›ì§€ì—ì„œ ììœ ì‹œê°„ ë° íœ´ì‹. (ì˜ˆ: ì„¼ê°• ìœ ëŒì„ , ë””ì¦ˆë‹ˆëœë“œ, ë„ì¿„ íƒ€ì›Œ ë“±). ê°€ì¡± ì—¬í–‰ì´ë¼ë©´ ë†€ì´ê³µì›, ì»¤í”Œ ì—¬í–‰ì´ë¼ë©´ ë¡œë§¨í‹±í•œ ì‚°ì±… ì¶”ì²œ.
          * **ì €ë…:** ê¸¸ê±°ë¦¬ ìŒì‹ íƒë°© ë˜ëŠ” ê°„ë‹¨í•œ í˜„ì§€ ì‹ë‹¹ ë°©ë¬¸.
          * **ìˆ™ì†Œ:** [ì„ íƒí•œ í˜¸í…”]

          ### ğŸ—“ï¸ 3ì¼ì°¨: ì‡¼í•‘ ë° ì¶œêµ­
          * **ì˜¤ì „:** í˜„ì§€ ì‹œì¥ ë˜ëŠ” ìœ ëª… ì‡¼í•‘ê°€ì—ì„œ ê¸°ë…í’ˆ êµ¬ë§¤ ë° ì‡¼í•‘.
          * **ì ì‹¬:** ê³µí•­ìœ¼ë¡œ ì´ë™ ì „ ë§ˆì§€ë§‰ í˜„ì§€ ì‹ì‚¬.
          * **ì˜¤í›„:** ${formData.destination} ê³µí•­ìœ¼ë¡œ ì´ë™ ë° ì¶œêµ­ ìˆ˜ì†. ì•„ì‰¬ìš´ ë§ˆìŒì„ ë’¤ë¡œí•˜ê³  ë‹¤ìŒ ì—¬í–‰ì„ ê¸°ì•½í•©ë‹ˆë‹¤.

          ---

          ### ğŸ’¡ ì¶”ê°€ íŒ:
          * **êµí†µ:** ${formData.destination} ë‚´ì—ì„œëŠ” ëŒ€ì¤‘êµí†µ(ì§€í•˜ì² , ë²„ìŠ¤) ì´ìš©ì´ í¸ë¦¬í•˜ë©°, í•„ìš”ì‹œ íƒì‹œë‚˜ ê³µìœ  ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì„¸ìš”.
          * **ìˆ™ì†Œ:** ${formData.travelStyle}ì— ë§ëŠ” ìˆ™ì†Œ(ë¶€í‹°í¬ í˜¸í…”, ì•„íŒŒíŠ¸ë¨¼íŠ¸, ë¦¬ì¡°íŠ¸ ë“±)ë¥¼ ë¯¸ë¦¬ ì˜ˆì•½í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.
          * **ì˜ˆì‚° ê´€ë¦¬:** ${formData.budget} ë‚´ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì§€ì¶œ ê³„íšì„ ì„¸ìš°ê³ , í™˜ì „ ë° ê²°ì œ ìˆ˜ë‹¨ì„ ë¯¸ë¦¬ ì¤€ë¹„í•˜ì„¸ìš”.
          * **ì•ˆì „:** ì†Œì§€í’ˆ ê´€ë¦¬ì— ìœ ì˜í•˜ê³ , ì—¬í–‰ì ë³´í—˜ì— ê°€ì…í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.
          * **í˜„ì§€ ì•±:** ${formData.destination}ì˜ ëŒ€ì¤‘êµí†µ, ë§›ì§‘, ì§€ë„ ì•± ë“±ì„ ë¯¸ë¦¬ ë‹¤ìš´ë¡œë“œí•´ë‘ë©´ í¸ë¦¬í•©ë‹ˆë‹¤.

          ì¦ê±°ìš´ ${formData.destination} ì—¬í–‰ ë˜ì„¸ìš”! ğŸ˜Š
        `;
        // --- ë”ë¯¸ ë°ì´í„° ë ---

        // ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸ë¥¼ HTMLë¡œ ë³€í™˜ (ê°„ë‹¨í•œ ì²˜ë¦¬)
        let formattedPlan = generatedPlan
          .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // ë³¼ë“œì²´
          .replace(/##\s(.*?)\n/g, '<h2>$1</h2>') // H2
          .replace(/###\s(.*?)\n/g, '<h3>$1</h3>') // H3
          .replace(/####\s(.*?)\n/g, '<h4>$1</h4>') // H4
          .replace(/\n\n/g, '<p>') // ë‹¨ë½
          .replace(/\n\*\s/g, '<li>') // ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ
          .replace(/\n\d\.\s/g, '<li>'); // ìˆ«ì ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ (ê°„ë‹¨)

        // ë¦¬ìŠ¤íŠ¸ íƒœê·¸ ë‹«ê¸° (ë§¤ìš° ê°„ë‹¨í•œ ì²˜ë¦¬, ì™„ë²½í•˜ì§€ ì•ŠìŒ)
        formattedPlan = formattedPlan.replace(/<li>(.*?)(<br>|$)/g, '<li>$1</li>');
        // ë§ˆì§€ë§‰ ì¤„ë°”ê¿ˆ ì œê±° í›„ <p> ë‹«ê¸°
        formattedPlan = formattedPlan.replace(/<p>$/, '');

        travelPlanOutput.innerHTML = formattedPlan;

      } catch (error) {
        console.error('ì—¬í–‰ ê³„íš ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
        travelPlanOutput.textContent = 'ì˜¤ë¥˜: ì—¬í–‰ ê³„íš ìƒì„± ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
        alert('ì—¬í–‰ ê³„íš ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
      } finally {
        loadingIndicator.style.display = 'none';
        recommendButton.disabled = false;
      }
    });
    /* JavaScript ì½”ë“œ ë */
  </script>
</body>

</html>
